import{_ as V,c as a,o as l,C as j,e as E,l as T,r as i,y as L,k as M,u as A,a4 as H,a as e,z as U,b as S,j as f,h as F,v as P,t as u,a9 as G}from"./Dq_m8wUf.js";import{_ as J,a as K,b as W}from"./ZOk8170_.js";import{_ as X}from"./OtoS3g0V.js";import{_ as Y}from"./D10FZT9o.js";import{Q as Z}from"./1PQRvrtE.js";const D={},tt={class:"py-4 w-full animate-pulse"};function st(z,d){return l(),a("div",tt,d[0]||(d[0]=[j('<div class="flex flex-col md:flex-row gap-10 p-4 space-x-10 sm:px-8"><div class="w-full"><div class="mx-auto w-60 h-60 bg-gray-300"></div></div><div class="w-full py-2 space-y-4"><div class="w-full h-5 rounded bg-gray-200"></div><div class="w-5/6 h-5 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-5/6 h-5 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-5/4 h-4 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-5/6 h-5 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-full h-4 rounded bg-gray-200"></div><div class="w-5/4 h-4 rounded bg-gray-200"></div></div></div>',1)]))}const et=V(D,[["render",st]]),ot={class:"min-h-screen overflow-hidden p-3 md:p-10 bg-accent-tint pt-20 md:pt-24"},at={class:"flex justify-between items-center mt-5"},lt={key:0,class:"animate-pulse"},it={key:1},dt={key:0,class:"mt-5 md:mt-10"},nt={key:1,class:"pt-5 flex flex-col md:flex-row gap-5 md:gap-10"},rt={class:"w-full md:w-[50%]"},ct={key:0,class:"mx-auto flex justify-center pt-5 md:pt-10"},pt=["id"],ut={class:"w-full md:w-[60%]"},mt={class:"pt-5 md:pt-10"},vt={class:"pt-5 md:pt-10"},xt={class:"pt-2 flex gap-4 items-center"},ft={class:"flex gap-3 pt-2 items-center"},gt={class:"font-medium capitalize"},_t={class:"pt-5 md:pt-8"},yt={key:0,class:"w-[500px] truncate text-sm pt-2"},bt={key:1},ht={key:2,class:"text-black flex mt-5"},$t=E({__name:"[id]",setup(z){var y;const{$axiosHelper:d}=T(),{$auth:N}=T(),g=N.session.value.access_token,r=i(!1),c=i(!1),m=L(),B=M(),n=A();i(""),i(null);const o=i(null),p=i({title:"",url:""}),_=(y=m==null?void 0:m.params)==null?void 0:y.id,I=async()=>{var t;r.value=!0;const s=await d.get(`qr_code/qrcode/${_}`,g);s.error?s!=null&&s.error&&(n.error((t=s==null?void 0:s.error)==null?void 0:t.message),r.value=!1):(o.value=s==null?void 0:s.data,p.value.title=o.value.title,r.value=!1)},Q=async()=>{var t;c.value=!0;const s=await d.patch(`qr_code/qrcode/${_}`,p.value,g);s.error?s!=null&&s.error&&(n.error((t=s==null?void 0:s.error)==null?void 0:t.message),c.value=!1):(n.success(s.data.message),I(),c.value=!1)},R=async s=>{if(s)try{await navigator.clipboard.writeText(s),setTimeout(()=>{n.success("Copied to clipboard")},2e3)}catch(t){n.error("Failed to copy: ",t)}};return H(o,async s=>{if(s){await G();const t=document.getElementById(`canvas-container-${s.id}`);t?(t.innerHTML="",new Z({width:s.qr_style.width||200,height:s.qr_style.height||200,data:s.short_url,dotsOptions:s.qr_style.dotsOptions,backgroundOptions:s.qr_style.backgroundOptions,cornersSquareOptions:s.qr_style.cornersSquareOptions,image:s.qr_style.image,cornersDotOptions:s.qr_style.cornersDotOptions,imageOptions:s.qr_style.imageOptions,qrOptions:s.qr_style.qrOptions}).append(t)):console.log(`Canvas container for code ID ${s.id} not found`)}}),(s,t)=>{var v,b,h,w,k,q,C,O;return l(),a("div",ot,[e("div",{onClick:t[0]||(t[0]=x=>U(B).go(-1)),class:"flex items-center gap-2"},t[3]||(t[3]=[e("p",{class:"w-[10px] h-[10px] cursor-pointer"},[e("img",{class:"w-[10px] h-[10px]",src:J,alt:""})],-1),e("p",{class:"cursor-pointer hover:text-primary"},"Back to lists",-1)])),e("div",at,[S(Y,{title:"Edit QR Code"}),e("div",null,[e("button",{onClick:Q,class:"btnn-sm text-xs md:text-sm capitalize font-semibold flex items-center gap-1"},[c.value?(l(),a("span",lt,"loading...")):(l(),a("span",it,"update"))])])]),r.value?(l(),a("div",dt,[S(et)])):(l(),a("div",nt,[e("div",rt,[o.value?(l(),a("div",ct,[e("div",{id:"canvas-container-"+((v=o.value)==null?void 0:v.id)},null,8,pt)])):f("",!0)]),e("div",ut,[t[12]||(t[12]=e("h3",{class:"font-bold text-black text-lg sm:text-xl md:text-2xl pt-5 md:pt-10"}," Details ",-1)),e("div",mt,[t[4]||(t[4]=e("p",{class:"font-bold text-black text-xs sm:text-sm md:text-base"}," Title ",-1)),F(e("input",{"onUpdate:modelValue":t[1]||(t[1]=x=>p.value.title=x),type:"text",class:"v-input md:w-[500px] capitalize"},null,512),[[P,p.value.title]])]),e("div",vt,[t[6]||(t[6]=e("p",{class:"font-bold text-black text-xs sm:text-sm md:text-base"}," Short link ",-1)),e("div",xt,[e("p",null,u((b=o.value)==null?void 0:b.short_url),1),(h=o.value)!=null&&h.short_url?(l(),a("div",{key:0,class:"w-[20px] h-[20px] cursor-pointer",onClick:t[2]||(t[2]=x=>{var $;return R(($=o.value)==null?void 0:$.short_url)})},t[5]||(t[5]=[e("img",{src:X,class:"w-[20px] h-[20px]",alt:`copy
              icon`},null,-1)]))):f("",!0)])]),e("div",null,[t[11]||(t[11]=e("h3",{class:"font-bold text-black text-xl md:text-2xl pt-5 md:pt-10"}," More Informations ",-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"pt-5 font-bold text-sm md:text-base text-black capitalize"}," scan destination ",-1)),e("div",ft,[t[7]||(t[7]=e("div",{class:"w-[20px] h-[20px]"},[e("img",{class:"w-[20px] h-[20px]",src:K,alt:"link icon"})],-1)),e("p",gt,u(((w=o.value)==null?void 0:w.category)=="url"?"website":(k=o.value)==null?void 0:k.category),1)])]),e("div",_t,[t[10]||(t[10]=e("p",{class:"capitalize font-bold text-sm md:text-base text-black"}," destination ",-1)),(q=o.value)!=null&&q.url?(l(),a("p",yt,u((C=o.value)==null?void 0:C.url),1)):(l(),a("p",bt,u("None"))),(O=o.value)!=null&&O.url?(l(),a("div",ht,t[9]||(t[9]=[e("img",{src:W,alt:"",class:"w-[14px] md:w-[20px] h-20px"},null,-1),e("button",{class:"btnn-sm text-xs py-2 px-1.5"},"Redirect Link",-1)]))):f("",!0)])])])]))])}}});export{$t as default};
