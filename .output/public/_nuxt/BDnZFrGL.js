import{_ as k}from"./DpAIBldb.js";import{e as P,y as C,k as N,r as l,u as R,c as f,o as w,a as t,b as v,w as V,g as B,h as x,m as _,i as L,j as $,d as g,t as D}from"./Dq_m8wUf.js";import{_ as I}from"./DWSRSFXG.js";import{B as q}from"./Cg5pebkw.js";const S={class:"min-h-screen flex"},T={class:"w-full px-10 sm:px-20 py-5 md:p-10"},j={class:"flex flex-col justify-between h-full w-full mx-auto"},A={class:"w-full md:w-[500px] flex flex-col mt-10 md:mt-20 gap-3 mx-auto h-full"},E={class:"flex relative w-full"},F=["type"],K=["src"],M={class:"mt-5"},U={class:"flex relative w-full"},Y=["type"],z=["src"],H={class:"pt-10"},Z={key:0},G={class:"text-center"},ss=P({__name:"[accesstoken]",setup(J){const y=C(),b=N(),a=l("password"),n=l("eye-close.svg"),m=R(),u=l(""),r=l(!1),d=l(""),h=y.params.accesstoken,p=()=>{a.value=a.value==="password"?"text":"password",n.value=n.value==="eye-close.svg"?"eye-open.svg":"eye-close.svg"},c=async()=>{var s,i;r.value=!0;const e=await $fetch("/api/auth/passwords",{method:"PATCH",query:{type:"reset-password",id:h},body:{new_password:u.value,confirm_password:d.value}});e&&e.status===200?(m.success((s=e==null?void 0:e.data)==null?void 0:s.message),b.push("/auths/login"),r.value=!1):(m.error(((i=e==null?void 0:e.error)==null?void 0:i.message)||"Network Error"),r.value=!1)};return(e,s)=>{const i=k;return w(),f("section",S,[t("section",T,[t("div",j,[v(i,{to:"/"},{default:V(()=>s[5]||(s[5]=[t("div",{class:"flex gap-2 items-center"},[t("img",{src:I,alt:""}),t("h1",{class:"text-xl font-extrabold text-black"},"ISZIFY")],-1)])),_:1}),t("div",A,[s[9]||(s[9]=t("h2",{class:"font-extrabold text-primary text-xl md:text-2xl"}," Reset Password ",-1)),t("form",{onSubmit:s[4]||(s[4]=B(()=>{},["prevent"])),class:"rounded-md w-full md:w-[500px] mx-auto mt-10"},[t("div",null,[s[6]||(s[6]=t("p",null,"New Password",-1)),t("div",E,[x(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>u.value=o),class:"v-input w-full",type:a.value,name:"password",required:""},null,8,F),[[_,u.value]]),t("img",{onClick:s[1]||(s[1]=o=>p()),src:`/icons/${n.value}`,alt:"",class:"absolute right-2 top-6"},null,8,K)])]),t("div",M,[s[7]||(s[7]=t("p",null,"Confirm New Password",-1)),t("div",U,[x(t("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>d.value=o),class:"v-input w-full",type:a.value,name:"confirmPassword",required:""},null,8,Y),[[_,d.value]]),t("img",{onClick:s[3]||(s[3]=o=>p()),src:`/icons/${n.value}`,alt:"",class:"absolute right-2 top-6"},null,8,z)])]),t("div",H,[t("button",{class:"btn-full",onClick:c,onKeydown:L(c,["enter"])},[r.value?(w(),f("span",Z,[v(q,{color:"white"})])):$("",!0),s[8]||(s[8]=t("span",{class:"text-sm"},"Reset Password",-1))],32)])],32)]),t("div",null,[t("p",G,[g(" Â© "+D(new Date().getFullYear())+". ",1),s[10]||(s[10]=t("span",{class:"text-info font-bold"},"Iszify.com. ",-1)),s[11]||(s[11]=g(" All Rights Reversed "))])])])])])}}});export{ss as default};
