import{_ as F,b as G,a as J}from"./ZOk8170_.js";import{a as K,_ as W,b as X}from"./BbImofLE.js";import{_ as Y}from"./CKboceQ4.js";import{B as R,e as E,_ as Z,c as u,o as l,C as ee,l as z,r as a,y as se,u as te,k as oe,s as ae,a9 as ne,f as re,a as e,n as ie,j as le,z as de,b as B,t as i,w as I}from"./Dq_m8wUf.js";import{Q as N}from"./1PQRvrtE.js";import{U as ce}from"./D7wMZWq3.js";import"./CxFscc1K.js";import"./lrz6IDt1.js";const pe=R("/icons/customize-blue.svg"),ue=R("/icons/download.svg"),ve=E({setup(){return{}}}),me={class:"animate-pulse flex space-x-4"};function _e(L,r,_,v,d,c){return l(),u("div",me,r[0]||(r[0]=[ee('<div class="rounded bg-gray-200 h-12 w-12"></div><div class="flex-1 space-y-4 py-1"><div class="h-4 bg-gray-200 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-200 rounded"></div><div class="h-4 bg-gray-200 rounded w-5/6"></div><div class="h-4 bg-gray-200 rounded w-5/6"></div><div class="h-4 bg-gray-200 rounded"></div></div></div>',2)]))}const ge=Z(ve,[["render",_e]]),xe={class:"min-h-screen overflow-hidden p-5 md:p-10 bg-accent-tint pt-20 md:pt-32"},fe={class:"rounded-md border bg-zinc-50 my-5 p-5 md:p-8"},he={key:0},be={key:1},ye={class:"flex flex-col md:items-center lg:flex-row justify-between"},we={class:"flex flex-col lg:flex-row gap-1 md:gap-5 p-2"},qe={class:""},ke=["id"],Oe={class:"space-y-1"},Ce={class:"text-lg md:text-xl w-full md:w-[500px] capitalize font-extrabold capital text-black"},$e={class:"text-black font-bold text-xs md:text-sm"},Se={class:"text-black flex"},De={class:"text-xs md:text-sm truncate w-[400px]"},Qe={class:"flex flex-col sm:flex-row gap-3 md:gap-7 pt-5"},ze={class:"flex gap-2 items-center text-black"},Be={class:"text-xs"},Ie={class:"flex gap-2 items-center text-black"},Ne={class:"text-xs md:text-sm text-teal font-semibold"},Re={class:"flex py-5 pl-2 md:pl-0 md:py-0 gap-5 self-start sm:mt-5 lg:mt-0"},Ee={class:"p-2 hover:bg-accent-tint cursor-pointer rounded border border-accent-shades hover:cursor-pointer"},Le={class:"p-2 hover:bg-accent-tint cursor-pointer rounded border border-accent-shades hover:cursor-pointer"},Fe=E({__name:"[id]",setup(L){var w;const{$axiosHelper:r}=z(),{$auth:_}=z(),v=_.session.value.access_token,d=a(!1),c=se(),g=te(),x=oe(),p=a(!1);a(!1);const U=a(""),m=a(!1),f=a(null),n=a(null),o=a(null),h=(w=c==null?void 0:c.params)==null?void 0:w.id,V=()=>{x.replace(`/user/qrcode/edit/${h}`)},A=()=>{var s;n.value&&n.value.download({name:((s=o.value)==null?void 0:s.title)||"qr_code",extension:"png"})},M=s=>{s&&s.short_url?(f.value=s,m.value=!0):console.log("QR code data is missing or incomplete",s)},b=()=>{m.value=!1},y=async()=>{d.value=!0;const s=await r.get(`qr_code/qrcode/${h}`,v);s.error||(o.value=s==null?void 0:s.data,U.value=o.value.title),d.value=!1},P=async s=>{p.value=!0;const t=await r.post(`qr_code/style_qrcode/${s.id})`,s.updatedData.qr_style,v);t.error?(g.error(t.error.message),p.value=!1):(p.value=!1,g.success(t.data.message),b(),await y(),await T())},T=()=>{if(o.value){const s=o.value;n.value=new N({width:150,height:150,data:s.short_url,dotsOptions:s.qr_style.dotsOptions,image:s.qr_style.image,backgroundOptions:s.qr_style.backgroundOptions,cornersSquareOptions:s.qr_style.cornersSquareOptions,cornersDotOptions:s.qr_style.cornersDotOptions,imageOptions:s.qr_style.imageOptions,qrOptions:s.qr_style.qrOptions});const t=document.getElementById(`canvas-container-${s.id}`);t?n.value.append(t):console.log(`Canvas container for code ID ${s.id} not found`)}};return ae(async()=>{await y(),ne(()=>{if(o.value){const s=o.value;n.value=new N({width:150,height:150,data:s.short_url,dotsOptions:s.qr_style.dotsOptions,image:s.qr_style.image,backgroundOptions:s.qr_style.backgroundOptions,cornersSquareOptions:s.qr_style.cornersSquareOptions,cornersDotOptions:s.qr_style.cornersDotOptions,imageOptions:s.qr_style.imageOptions,qrOptions:s.qr_style.qrOptions});const t=document.getElementById(`canvas-container-${s.id}`);t?n.value.append(t):console.log(`Canvas container for code ID ${s.id} not found`)}})}),(s,t)=>{var q,k,O,C,$,S,D,Q;const j=re("Popper");return l(),u("section",null,[e("div",xe,[e("div",{onClick:t[0]||(t[0]=H=>de(x).go(-1)),class:"flex items-center gap-2"},t[2]||(t[2]=[e("p",{class:"w-[10px] h-[10px] cursor-pointer"},[e("img",{class:"w-[10px] h-[10px]",src:F,alt:""})],-1),e("p",{class:"cursor-pointer hover:text-primary"},"Back to lists",-1)])),e("div",fe,[d.value?(l(),u("div",he,[B(ge)])):(l(),u("div",be,[e("div",ye,[e("div",we,[e("div",qe,[e("div",{id:"canvas-container-"+((q=o.value)==null?void 0:q.id)},null,8,ke)]),e("div",Oe,[e("h1",Ce,i((k=o.value)!=null&&k.title?(O=o.value)==null?void 0:O.title:"Untitled"),1),e("p",$e,i(((C=o.value)==null?void 0:C.category)==="url"?"website":($=o.value)==null?void 0:$.category),1),e("div",Se,[t[3]||(t[3]=e("img",{src:G,alt:"",class:"w-[14px] md:w-[20px] h-20px"},null,-1)),e("p",De,i((S=o.value)==null?void 0:S.url),1)]),e("div",Qe,[t[6]||(t[6]=e("div",{class:"flex gap-2 items-center"},[e("img",{src:K,alt:"",class:"h-[16px] w-[16px]"}),e("p",{class:"p-2 bg-accent-tint text-xs rounded text-accent font-medium"}," Scan data ")],-1)),e("div",ze,[t[4]||(t[4]=e("img",{src:W,alt:"",class:"h-[16px] w-[16px]"},null,-1)),e("p",Be,i((D=o.value)==null?void 0:D.created),1)]),e("div",Ie,[t[5]||(t[5]=e("img",{src:J,alt:"",class:"h-[16px] w-[16px]"},null,-1)),e("p",Ne,i((Q=o.value)==null?void 0:Q.short_url),1)])])])]),e("div",Re,[e("div",Ee,[B(j,{hover:!0,placement:"bottom",class:"animate__animated animate__zoomIn"},{content:I(()=>t[7]||(t[7]=[e("div",{class:"w-[200px] bg-white rounded-lg mt-3 shadow-lg z-30"},[e("div",{class:"text-accent py-2 px-5 cursor-pointer hover:bg-accent-tint capitalize font-semibold hover:border-l hover:border-black"}," duplicate "),e("div",{class:"text-accent py-2 px-5 cursor-pointer hover:bg-accent-tint capitalize font-semibold hover:border-l hover:border-black"}," hide code ")],-1)])),default:I(()=>[t[8]||(t[8]=e("img",{src:Y,class:"w-[70%] h-[70%]",alt:""},null,-1))]),_:1})]),e("div",Le,[e("div",{onClick:t[1]||(t[1]=H=>M(o.value)),class:"w-[70%] h-[70%]"},t[9]||(t[9]=[e("img",{src:pe,alt:""},null,-1)]))]),e("div",{class:"p-2 hover:bg-accent-tint cursor-pointer rounded border border-accent-shades hover:cursor-pointer",onClick:V},t[10]||(t[10]=[e("div",{class:"w-[70%] h-[70%]"},[e("img",{src:X,alt:""})],-1)])),e("div",{class:"p-2 hover:bg-accent-tint cursor-pointer rounded border border-accent-shades hover:cursor-pointer",onClick:A},t[11]||(t[11]=[e("div",{class:"w-[70%] h-[70%]"},[e("img",{src:ue,alt:""})],-1)]))])])]))])]),m.value?(l(),ie(ce,{key:0,onLoading:p.value,qrCodeData:f.value,onClose:b,onOnSave:P},null,8,["onLoading","qrCodeData"])):le("",!0)])}}});export{Fe as default};
